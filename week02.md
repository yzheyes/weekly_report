# 视觉组第一阶段培训 · 周报（第 2 周｜9.29–10.5）


## 1. 本周学习内容概览

* 我把 STL 又系统过了一遍，顺便整理了可复用的小模板：
	* 顺序容器/适配器：`vector/deque/list/stack/queue/priority_queue` 的选型和摊还复杂度，记录了几个常见坑（`vector` 扩容导致指针/迭代器失效；`priority_queue` 默认大顶堆）。
	* 关联/哈希容器：`map/set`（log 复杂度）vs `unordered_map/set`（均摊 O(1)），补了“迭代器何时失效”和 `erase` 的返回值用法。
	* 算法搭配：`sort`+lambda、自定义比较器的严格弱序；`lower_bound/upper_bound/unique` 的常见组合去重。
* 字符串/模拟：
	* 16 进制解析最开始写成 `stoi(s)` 忘了基数，直接 RE；最后换成 `stoul(s, nullptr, 16)` 或手写解析更稳。
	* I/O 细节再强化：统一大写 16 进制、严格单空格分隔、行尾不能有空格，`ios::sync_with_stdio(false); cin.tie(nullptr);` 一直开着。
* 数学/递归：
	* 用递归写阶乘，确认 `n<=12` 不会爆；基 case 用 `n==1` 更贴题。
* 数据结构：
	* 用数组模拟单链表（`next` 数组）做插入/删除；用队列/下标模拟循环（约瑟夫）。
* 补充：工具与工程
	* VS Code/调试：设置断点+条件表达式，`launch.json` 配置程序参数；熟悉 `-O2 -Wall -Wextra -Wshadow` 编译选项。
	* Git 流程：以周为单位打 tag，提交信息按“模块: 变更摘要”格式；学会 `git restore -S` 快速回滚单文件改动。
	* 代码规范：统一 `clang-format` 风格（缩进、空格、括号），封装常用打印/比较器工具函数到 `templates/`。

---

## 2. 洛谷题解（本周题单）


### B3851 图像压缩（Top-16 灰度离散化）

* 涉及知识点：频率统计、多关键字排序、最近邻映射（绝对差最小）、离散化/码本选择。
* C++ 要点：`array<int,256> freq{}`；`sort` 时用 `tie(-cnt, val)` 或自定义比较器；输出用 `std::uppercase << std::hex << setw(2) << setfill('0')`；映射用 `vector<int> codebook` 或 `array<int,16>`。
* 复杂度与边界：像素总量 ≤ 400；码本必须恰好 16 个；平手规则优先“次数多 → 灰度小”，映射时优先“差值小 → 编号小”。
* 易错点：小写/大写 16 进制混用；行尾多空格；`stoi` 忘记基数，推荐 `strtol/stoul` 或手写解析。

### P5739 计算阶乘（递归版）

* 涉及知识点：递归/递推、递归基、栈深度与返回值类型。
* C++ 要点：`long long` 足够（n≤12），基准写 `n==1` 更贴题；输出用 `\n` 替代 `endl`。
* 复杂度与边界：O(n)，深度 ≤ 12，不会栈溢出；若放宽到更大 n 需考虑大整数或循环写法。
* 易错点：把 base 写成 `n==0` 与题意不完全一致；类型不匹配导致隐式截断。

### P5744 培训（结构体 + 规则化更新）

* 涉及知识点：结构体设计、批量更新、上限约束、读写格式。
* C++ 要点：`struct Student { string name; int age, score; };`，今年分 `min(600, (int)(score * 1.2))`；保留输入顺序输出。
* 复杂度与边界：O(n)；分数上限 600；乘 1.2 后不保证仍为 5 的倍数，按题意取整即可。
* 易错点：是否四舍五入的处理与样例对齐；读取字符串时空白分隔的处理。

### B3631 单向链表（数组模拟）

* 涉及知识点：链表的数组模拟、O(1) 插入/查询/删除、唯一性约束。
* C++ 要点：`vector<int> next(MAXN+5, 0)` 或静态数组；插入 `next[y]=next[x]; next[x]=y;`；删除 `next[x]=next[next[x]]`（先判断存在）。
* 复杂度与边界：每次操作 O(1)；初始只有结点 1；数值唯一避免找前驱。
* 易错点：误删成“删除 x 本身”；未判断 `next[x]` 是否存在；数组越界初始化不足。

### B3688 旋转排列（队尾移到队首，直到末尾为 n）

* 涉及知识点：循环移位、序列输出规范、停止条件判断。
* C++ 要点：`deque` 的 `push_front/pop_back`；或用“起点指针”做 O(n) 的下标旋转；严格遵循“先 shift → 输出 → 判断”。
* 复杂度与边界：n ≤ 2000 直接模拟可过；用下标旋转可线性完成。
* 易错点：打印空格控制；操作顺序写反导致样例不匹配。

### P1996 约瑟夫问题（循环出队）

* 涉及知识点：Josephus 圈、模运算与动态序列删除。
* C++ 要点：`vector` + 下标：`idx = (idx + m - 1) % size` 后 `erase`；或 `list`/链表减少移动费用；输出控制空格。
* 复杂度与边界：朴素 `vector` 解法 O(n·m)（n,m≤100 足够）；大数据可用链表/树状数组优化。
* 易错点：`size` 变化后及时取模；1 基/0 基数数法混淆。

## 3. 下周计划（第 3 周）

1. 刷题节奏：每天 3 题（字符串/双指针/前缀和轮流），晚间 30 分钟复盘错题。
2. 字符串专项：过 KMP 模板两遍，做 2 道实战题，顺带把哈希板子抄一份到 `templates/`。
3. 数据结构：把“单调栈”过一遍，做柱状图最大矩形和一题括号匹配，写出通用接口。
4. 代码质量：抽 `print_row/print_hex` 和比较器模板；补 3 个小样例做快速自测。
5. 工具链：给本仓库按周打 tag，方便回溯；统一代码风格（空格、命名、头文件）。

